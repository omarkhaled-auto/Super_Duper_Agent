orchestrator:
  model: "opus"
  max_turns: 500
  permission_mode: "acceptEdits"

depth:
  default: "standard"
  keyword_map:
    quick: ["quick", "fast", "simple", "just"]
    thorough: ["thorough", "thoroughly", "careful", "carefully", "deep", "detailed"]
    exhaustive: ["exhaustive", "exhaustively", "comprehensive", "comprehensively", "complete"]

convergence:
  max_cycles: 10
  escalation_threshold: 3
  max_escalation_depth: 2
  requirements_dir: ".agent-team"
  requirements_file: "REQUIREMENTS.md"
  master_plan_file: "MASTER_PLAN.md"
  min_convergence_ratio: 0.9
  recovery_threshold: 0.8
  degraded_threshold: 0.5

interview:
  enabled: true
  model: "opus"
  max_exchanges: 50

# design_reference:
#   urls: []                                          # Reference website URLs for design inspiration
#   depth: "full"                                     # "branding" | "screenshots" | "full"
#   max_pages_per_site: 5                             # Max pages to scrape per reference URL

agents:
  planner:
    model: "opus"
    enabled: true
  researcher:
    model: "opus"
    enabled: true
  architect:
    model: "opus"
    enabled: true
  code_writer:
    model: "opus"
    enabled: true
  code_reviewer:
    model: "opus"
    enabled: true
  test_runner:
    model: "opus"
    enabled: true
  security_auditor:
    model: "opus"
    enabled: true
  task_assigner:
    model: "opus"
    enabled: true
  debugger:
    model: "opus"
    enabled: true

mcp_servers:
  firecrawl:
    enabled: true
  context7:
    enabled: true
  # Sequential Thinking MCP server — orchestrator-level tool-based ST
  # Only needed if you want the orchestrator itself to use ST MCP calls.
  # Sub-agents get prompt-engineered ST via investigation.sequential_thinking.
  sequential_thinking:
    enabled: false

display:
  show_cost: true
  show_tools: true
  show_fleet_composition: true
  show_convergence_status: true
  verbose: false

# Codebase Map — pre-analyze target project structure
codebase_map:
  enabled: true
  max_files: 5000
  max_file_size_kb: 50
  max_file_size_kb_ts: 100
  timeout_seconds: 30

# Smart Scheduler — DAG-based task ordering with conflict resolution
scheduler:
  enabled: false
  max_parallel_tasks: 5
  conflict_strategy: "artificial-dependency"
  enable_context_scoping: true
  enable_critical_path: true

# Deep Investigation — Gemini CLI + Sequential Thinking for review agents
# investigation:
#   enabled: false                    # Requires Gemini CLI install
#   gemini_model: ""                  # Empty = default model
#   max_queries_per_agent: 8          # Gemini query budget per agent
#   timeout_seconds: 120              # Max seconds per Gemini query
#   agents:                           # Agents that get investigation protocol
#     - code-reviewer
#     - security-auditor
#     - debugger
#   sequential_thinking: true         # Prompt-engineered ST for sub-agents
#   max_thoughts_per_item: 15         # Thought step budget (min 3)
#   enable_hypothesis_loop: true      # Require hypothesis-verification cycles

# Progressive Verification — contract-based checks after each task
verification:
  enabled: false
  blocking: true
  run_lint: true
  run_type_check: true
  run_tests: true
